extend layout
block hero
  .jumbotron#intro: header: .container
    h1(style='color:#DB6837').text-shadowed Welcome to CodeBench.
    h3 We benchmark your code and stack your solutions against the best.

block content

  h2 > Put your code to the test.
  br
  ul.nav.nav-tabs
    li.active: a(href='#1', data-toggle='tab') Top Questions
    li: a(href='#2', data-toggle='tab') Newest 
  
  #content.tab-content
    #1.tab-pane.active
      if questions
        .container
          each question, i in questions
            .row(class=(i % 2 == 0) ? 'light-row' : 'dark-row')
              .col-md-1
                // Yolo fix plz fix sql query to update upvotes and downvotes
                h3.votes.float-left #{question.upvotes - question.downvotes}
                //h3.float-left #{question.vote - question.downvotes}
                img.thumbsup.center(src=(question.vote == 1 ? "/thumbs-up-good.png" : "/thumbs-up.png") height='30' width='30' style='margin-top:13px', onclick=(user ? 'toggleQuestionUp($(this).parent(), #{question.question_id}, #{question.vote})' : ''))
                img.thumbsdown.center(src=(question.vote == -1 ? "/thumbs-down-bad.png" : "/thumbs-down.png") height='30' width='30' style='margin:auto', onclick=(user ? 'toggleQuestionDown($(this).parent(), #{question.question_id}, #{question.vote})' : ''))
              .col-md-11
                h3: a(href="/problem/#{question.question_id}") #{question.title}
                h5 Submitted by #{question.username}

    #2.tab-pane
      if questions
        .container
          each question, i in questions
            .row(class=(i % 2 == 0) ? 'light-row' : 'dark-row')
              .col-md-1
                h3.float-left #{question.upvotes - question.downvotes}
                img.center(src="/thumbs-up.png" height='30' width='30' style='margin-top:13px')
                img.center(src="/thumbs-down.png" height='30' width='30' style='margin:auto')
              .col-md-11
                h3: a(href="/problem/#{question.question_id}") #{question.title}
                h5 Submitted by #{question.username}

   script(defer src='/votes.js' type='text/javascript')